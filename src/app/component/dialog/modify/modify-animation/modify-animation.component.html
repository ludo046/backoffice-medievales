<div class="container">
    <h2 mat-dialog-title>Ajouter une troupe :</h2>
    <mat-dialog-content>En ajoutant une troupes ici vous l'ajouterez également au site !</mat-dialog-content>
    <form class="example-form" [formGroup]="form">
      <table class="example-full-width" cellspacing="0"><tr>
        <td><mat-form-field class="example-full-width">
          <mat-label>Nom de la troupe</mat-label>
          <input matInput formControlName="companieName" [(ngModel)]="troupe.companieName">
        </mat-form-field></td>
        <td><mat-form-field class="example-full-width">
          <mat-label>Contact de la troupe</mat-label>
          <input matInput formControlName="contact" [(ngModel)]="troupe.contact">
        </mat-form-field></td>
      </tr></table>
      
        <table class="example-full-width" cellspacing="0"><tr>
          <td><mat-form-field class="example-full-width">
            <mat-label>Email</mat-label>
            <input matInput formControlName="email" [(ngModel)]="troupe.email">
          </mat-form-field></td>
          <td><mat-form-field class="example-full-width">
            <mat-label>Téléphone</mat-label>
            <input matInput type="tel" pattern="(0|(\\+33)|(0033))[1-9][0-9]{8}" maxlength="10" formControlName="phone" [(ngModel)]="troupe.phone">
          </mat-form-field></td>
          <td><mat-form-field class="example-full-width">
            <mat-label>Nombre de personnes</mat-label>
            <input matInput formControlName="person" [(ngModel)]="troupe.person">
          </mat-form-field></td>
        </tr></table>
      
        <table class="example-full-width" cellspacing="0"><tr>
          <td><mat-form-field class="example-full-width">
            <mat-label>Ville</mat-label>
            <input matInput placeholder="Ex. San Francisco" formControlName="town" [(ngModel)]="troupe.ville">
          </mat-form-field></td>
          <td><mat-form-field class="example-full-width">
            <mat-label>Pays</mat-label>
            <input matInput placeholder="Ex. California" formControlName="contry" [(ngModel)]="troupe.pays">
          </mat-form-field></td>
          <td><mat-form-field class="example-full-width">
            <mat-label>Code Postal</mat-label>
            <input matInput #postalCode maxlength="5" placeholder="Ex. 94105" type="text" pattern="/[0-9]{5}/g" formControlName="postalCode" [(ngModel)]="troupe.postalCode">
            <mat-hint align="end">{{postalCode.value.length}} / 5</mat-hint>
          </mat-form-field></td>
        </tr></table>
    
        <p>
            <mat-form-field class="example-full-width">
              <mat-label>Description</mat-label>
              <textarea matInput formControlName="description" [(ngModel)]="troupe.description"></textarea>
            </mat-form-field>
            <mat-form-field class="example-full-width">
                <mat-label>Prix</mat-label>
                <input matInput formControlName="price" [(ngModel)]="troupe.price">
              </mat-form-field>
          </p>
          <p>image obligatoire</p>
          <input class="file" type="file" accept=".jpg, .jpeg, .png, .gif, .mp4" (change)="onFileAdded($event)" >
          <mat-slide-toggle [(ngModel)]="troupe.activate" formControlName="activate">Activer la troupe</mat-slide-toggle>
      </form>
    <mat-dialog-actions>
      <button mat-button mat-dialog-close>Fermer</button>
      <button *hasPermission="'animation'" mat-button mat-dialog-close (click)="modifyTroupe()">Valider</button>
    </mat-dialog-actions>
</div>
